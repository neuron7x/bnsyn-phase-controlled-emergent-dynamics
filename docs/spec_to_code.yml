components:
  P0-1:
    name: "AdEx neuron dynamics"
    spec_section: "P0-1"
    implementation_paths:
      - src/bnsyn/neuron/adex.py
      - src/bnsyn/sim/network.py
    verification_paths:
      - tests/test_adex_smoke.py
      - tests/validation/test_adex_validation.py
    invariants:
      - "Clamp exp argument to 20"
      - "Reset V->Vreset and w->w+b on spike"
      - "Voltage bounds enforced in Network.step"
  P0-2:
    name: "Conductance synapses + NMDA Mg block"
    spec_section: "P0-2"
    implementation_paths:
      - src/bnsyn/synapse/conductance.py
      - src/bnsyn/sim/network.py
    verification_paths:
      - tests/test_synapse_smoke.py
      - tests/validation/test_synapse_validation.py
    invariants:
      - "Mg block formula B(V)"
      - "Exponential decay update"
  P0-3:
    name: "Three-factor learning"
    spec_section: "P0-3"
    implementation_paths:
      - src/bnsyn/plasticity/three_factor.py
    verification_paths:
      - tests/test_plasticity_smoke.py
      - tests/validation/test_plasticity_validation.py
    invariants:
      - "Eligibility decay exp(-dt/tau_e)"
      - "Weight update eta * e * M"
      - "Weight bounds"
  P0-4:
    name: "Criticality tracking Ïƒ and gain homeostasis"
    spec_section: "P0-4"
    implementation_paths:
      - src/bnsyn/criticality/branching.py
    verification_paths:
      - tests/test_criticality_smoke.py
      - tests/validation/test_criticality_validation.py
    invariants:
      - "Sigma EMA estimate"
      - "Gain clamp"
  P1-5:
    name: "Temperature schedule + gating"
    spec_section: "P1-5"
    implementation_paths:
      - src/bnsyn/temperature/schedule.py
    verification_paths:
      - tests/test_temperature_smoke.py
      - tests/validation/test_temperature_validation.py
    invariants:
      - "Geometric cooling"
      - "Sigmoid gate"
  P1-6:
    name: "Dual-weight consolidation"
    spec_section: "P1-6"
    implementation_paths:
      - src/bnsyn/consolidation/dual_weight.py
    verification_paths:
      - tests/test_consolidation_smoke.py
      - tests/validation/test_consolidation_validation.py
    invariants:
      - "Fast weight decay to baseline"
      - "Tag threshold gating"
      - "Protein-gated consolidation"
  P1-7:
    name: "Energy regularization"
    spec_section: "P1-7"
    implementation_paths:
      - src/bnsyn/energy/regularization.py
    verification_paths:
      - tests/test_energy_smoke.py
      - tests/validation/test_energy_validation.py
    invariants:
      - "Quadratic rate and weight penalties"
      - "Energy-weighted reward"
  P2-8:
    name: "Numerical methods"
    spec_section: "P2-8"
    implementation_paths:
      - src/bnsyn/numerics/integrators.py
    verification_paths:
      - tests/test_dt_invariance.py
      - tests/validation/test_numerics_validation.py
    invariants:
      - "Euler/RK2 update"
      - "Exponential decay update"
  P2-9:
    name: "Determinism protocol"
    spec_section: "P2-9"
    implementation_paths:
      - src/bnsyn/rng.py
      - src/bnsyn/sim/network.py
    verification_paths:
      - tests/test_determinism.py
      - tests/validation/test_determinism_validation.py
    invariants:
      - "Explicit RNG injection"
      - "Seed reproducibility"
  P2-10:
    name: "Calibration utilities"
    spec_section: "P2-10"
    implementation_paths:
      - src/bnsyn/calibration/fit.py
    verification_paths:
      - tests/test_calibration_smoke.py
      - tests/validation/test_calibration_validation.py
    invariants:
      - "Least-squares linear fit"
  P2-11:
    name: "Reference network simulator"
    spec_section: "P2-11"
    implementation_paths:
      - src/bnsyn/sim/network.py
    verification_paths:
      - tests/test_network_smoke.py
      - tests/validation/test_network_validation.py
    invariants:
      - "Voltage bounds"
      - "Deterministic metrics"
  P2-12:
    name: "Bench harness contract"
    spec_section: "P2-12"
    implementation_paths:
      - src/bnsyn/cli.py
    verification_paths:
      - tests/test_cli_smoke.py
      - tests/validation/test_cli_validation.py
    invariants:
      - "Deterministic CLI metrics"
      - "dtcheck coverage"
