# Documentation Formalization & Verification Protocol

This document formalizes how BN-Syn documentation is structured, governed, and validated. It
binds documentation to authoritative sources, specifies traceability requirements, and
defines the verification gates that keep documentation aligned with the implementation and
its evidence ledger.

**Navigation**: [INDEX.md](INDEX.md) | [SPEC.md](SPEC.md) | [SSOT.md](SSOT.md) | [GOVERNANCE.md](GOVERNANCE.md)

---

## 1) Scope and authority chain

BN-Syn uses a layered authority chain to keep documentation deterministic, auditable, and
traceable. The layers below define **where truth lives** and how narrative documents must
reference it.

1. **Formal specification (authoritative)**
   - `docs/SPEC.md` defines the 12-component system, equations, acceptance checks, and failure
     envelopes. It is the canonical source of normative behavior.
2. **Architecture crosswalk (traceability index)**
   - `docs/ARCHITECTURE.md` maps components to claims and spec sections without introducing new
     semantics.
3. **SSOT governance (machine rules + validators)**
   - `docs/SSOT_RULES.md` is the authoritative rule registry.
   - `docs/SSOT.md` documents the authority chain and lists validators under `scripts/`.
4. **Evidence ledger (claims + bibliography)**
   - `claims/claims.yml` defines claims and tiers.
   - `bibliography/` and `bibliography/sources.lock` supply provenance and deterministic hashes.
   - `docs/EVIDENCE_COVERAGE.md` summarizes claim coverage for audit visibility.
5. **Operational protocols (reproducibility & CI)**
   - `docs/REPRODUCIBILITY.md` defines the determinism protocol and validation commands.
   - `docs/CI_GATES.md` defines PR gates, validation tiers, and quality/security checks.

All normative statements in documentation must link back to the authority chain above.

---

## 2) Documentation taxonomy (normative vs non-normative)

BN-Syn documentation distinguishes **normative** and **non-normative** content to keep
technical assertions verifiable.

- **Normative documents** must align with `docs/SSOT_RULES.md` and carry evidence links via
  claim IDs in `claims/claims.yml`.
- **Non-normative documents** (e.g., hypothesis or imported reports) are labeled and do not
  introduce new system requirements.
- `docs/NORMATIVE_LABELING.md` governs how labeling is applied and enforced by validators.

---

## 3) Traceability and evidence binding

Formal documentation must support **bidirectional traceability** from spec → implementation
→ tests → claims:

- **Spec → code**: `docs/spec_to_code.yml` anchors each spec component to implementation paths.
- **Spec → tests**: The SPEC component table enumerates primary tests per component.
- **Claims → sources**: `claims/claims.yml` and `bibliography/mapping.yml` link claims to
  bibliographic sources; `bibliography/sources.lock` ensures deterministic hashes.
- **Coverage visibility**: `docs/EVIDENCE_COVERAGE.md` is generated by the evidence pipeline
  for audit-ready coverage reporting.

All documentation updates that introduce or modify normative claims must update the
appropriate claim IDs and evidence mappings in the SSOT ledger.

---

## 4) Verification gates for documentation quality

Documentation correctness is enforced through explicit gates and reproducibility workflows:

1. **SSOT validation**
   - Validators in `scripts/` enforce bibliography integrity, claims integrity, and normative
     tagging (see `docs/SSOT.md`).
2. **Reproducibility protocol**
   - `docs/REPRODUCIBILITY.md` defines the deterministic execution steps and expected outputs.
3. **CI gate strategy**
   - `docs/CI_GATES.md` defines PR-blocking smoke tests, SSOT validation, quality checks, and
     security scans.

Documentation must remain consistent with these gates; any deviation must be resolved by
updating the relevant SSOT artifacts or tests first.

---

## 5) Maintenance rules (audit-grade)

To keep documentation at 2025–2026 professional standards, apply the following rules:

- **No silent divergence**: If the implementation changes, the SPEC and traceability maps
  are updated in the same change set.
- **Evidence completeness**: Every normative claim references a claim ID and evidence mapping.
- **Determinism-first**: Reproducibility requirements (seed control, validation commands) are
  authoritative and cannot be bypassed by narrative documents.
- **Governed paths**: Documents in governed paths must pass SSOT validators and normative tag
  scans.
- **Audit readiness**: Evidence coverage, audit findings, and release readiness artifacts are
  kept current to preserve an auditable record.

---

## 6) Implementation checklist for documentation changes

Use the following checklist before merging documentation updates:

1. **Identify scope**: Confirm which components or invariants are affected in `docs/SPEC.md`.
2. **Update traceability**: Modify `docs/spec_to_code.yml` and `docs/COMPONENT_AUDIT.md` if
   component mappings change.
3. **Update claims**: Add/update claim IDs in `claims/claims.yml` and ensure bibliography
   mappings are present.
4. **Regenerate evidence coverage**: Run `python scripts/generate_evidence_coverage.py` when
   claims or mappings change.
5. **Run SSOT gates**: Execute the validation commands in `docs/REPRODUCIBILITY.md`.

---

## 7) Cross-reference map (authoritative entry points)

- **System specification**: `docs/SPEC.md`
- **Architecture crosswalk**: `docs/ARCHITECTURE.md`
- **SSOT governance**: `docs/SSOT_RULES.md`, `docs/SSOT.md`
- **Evidence ledger**: `claims/claims.yml`, `bibliography/` (plus lockfile)
- **Reproducibility**: `docs/REPRODUCIBILITY.md`
- **CI and quality gates**: `docs/CI_GATES.md`

This document does not add new system semantics; it formalizes how documentation must
remain consistent with the existing specification, evidence, and verification systems.
