# DEPRECATED: compatibility shim; remove after protection update
# Guard: non-PR-gate workflow; must remain off PRs.
name: benchmarks

on:
  workflow_dispatch:
    inputs:
      tier:
        description: "Benchmark tier to run"
        required: true
        type: choice
        default: standard
        options:
          - standard
          - elite
      profile:
        description: "Benchmark profile to run"
        required: true
        type: choice
        default: baseline
        options:
          - micro
          - baseline
          - full
          - custom
      scenario:
        description: "Benchmark scenario to run (custom profile only)"
        required: false
        default: ci_smoke
        type: choice
        options:
          - ci_smoke
          - quick
          - n_sweep
          - steps_sweep
          - conn_sweep
          - dt_sweep

permissions:
  contents: read

jobs:
  benchmarks-dispatch:
    if: ${{ github.event_name == 'workflow_dispatch' }}
    uses: ./.github/workflows/ci-benchmarks.yml
    with:
      tier: ${{ inputs.tier }}
      profile: ${{ inputs.profile }}
      scenario: ${{ inputs.scenario }}
    secrets: inherit
